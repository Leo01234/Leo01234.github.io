import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as e,e as a}from"./app-B1a77N5c.js";const t={},n=a(`<p>在按照 <a href="https://github.com/ycm-core/YouCompleteMe#full-installation-guide" target="_blank" rel="noopener noreferrer">Full Installation Guide</a> 安装 YouCompleteMe 时，输入命令</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -G</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Unix Makefiles&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -DUSE_SYSTEM_LIBCLANG=ON</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ~/.vim/pack/YouCompleteMe/start/YouCompleteMe/third_party/ycmd/cpp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>提示</p><div class="language-plaintext line-numbers-mode" data-highlighter="shiki" data-ext="plaintext" data-title="plaintext" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Could NOT find PythonLibs (missing: PYTHON_LIBRARIES PYTHON_INCLUDE_DIRS)</span></span>
<span class="line"><span>  (Required is at least version &quot;2.7&quot;)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>添加 <code>-DPYTHON_INCLUDE_DIR=/usr/include/python3.7 -DPYTHON_LIBRARY=/usr/lib/x86_64-linux-gnu/libpython3.7m.so</code> 明确指定 python3 库后，收获如下神奇的提示信息：</p><div class="language-plaintext line-numbers-mode" data-highlighter="shiki" data-ext="plaintext" data-title="plaintext" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>You set USE_PYTHON2 to make CMake find python2 libs only, but CMake found</span></span>
<span class="line"><span>python3 libs instead.  Either don&#39;t set USE_PYTHON2 or install the</span></span>
<span class="line"><span>necessary python2 headers &amp; libraries.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>猜想可能是CMakeLists.txt中的问题，打开一看，果然 CMakeLists.txt的一部分：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Note: build.py always explicitly sets this option, so the default used here</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># rarely matters.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">option(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> USE_PYTHON2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;If on, link to Python 2 instead of 3&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ON</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> )</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ( </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">USE_PYTHON2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> )</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  find_package(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PythonLibs</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2.7</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> REQUIRED</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> )</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ( </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NOT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PYTHONLIBS_VERSION_STRING</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> VERSION_LESS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;3.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> )</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    message(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> FATAL_ERROR</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      &quot;You set USE_PYTHON2 to make CMake find python2 libs only, but CMake &quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      &quot;found python3 libs instead. Either don&#39;t set USE_PYTHON2 or install the &quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      &quot;necessary python2 headers &amp; libraries.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> )</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  endif</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">  set</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Python_ADDITIONAL_VERSIONS</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3.9</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3.8</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3.7</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3.6</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3.5</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> )</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  find_package(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PythonLibs</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3.5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> REQUIRED</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> )  </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 3.5 is ONLY the mininum</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">endif</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将上面的ON改为OFF，就一切正常啦^_^，即可使用python3的库。</p>`,9),l=[n];function h(p,r){return s(),e("div",null,l)}const o=i(t,[["render",h],["__file","ycm-can-not-find-python3-libs.html.vue"]]),c=JSON.parse('{"path":"/post/ycm-can-not-find-python3-libs.html","title":"YouCompleteMe 插件编译 ycm_core 库时找不到 python3 的库","lang":"zh-CN","frontmatter":{"title":"YouCompleteMe 插件编译 ycm_core 库时找不到 python3 的库","date":"2020-01-21T00:00:00.000Z","category":["学习"],"tag":["Vim","插件","YouCompleteMe"],"description":"在按照 Full Installation Guide 安装 YouCompleteMe 时，输入命令 提示 添加 -DPYTHON_INCLUDE_DIR=/usr/include/python3.7 -DPYTHON_LIBRARY=/usr/lib/x86_64-linux-gnu/libpython3.7m.so 明确指定 python3 库后...","head":[["meta",{"property":"og:url","content":"https://leo01234.github.io/post/ycm-can-not-find-python3-libs.html"}],["meta",{"property":"og:site_name","content":"Leo01234"}],["meta",{"property":"og:title","content":"YouCompleteMe 插件编译 ycm_core 库时找不到 python3 的库"}],["meta",{"property":"og:description","content":"在按照 Full Installation Guide 安装 YouCompleteMe 时，输入命令 提示 添加 -DPYTHON_INCLUDE_DIR=/usr/include/python3.7 -DPYTHON_LIBRARY=/usr/lib/x86_64-linux-gnu/libpython3.7m.so 明确指定 python3 库后..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-10T13:36:49.000Z"}],["meta",{"property":"article:author","content":"Leo01234"}],["meta",{"property":"article:tag","content":"Vim"}],["meta",{"property":"article:tag","content":"插件"}],["meta",{"property":"article:tag","content":"YouCompleteMe"}],["meta",{"property":"article:published_time","content":"2020-01-21T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-10T13:36:49.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"YouCompleteMe 插件编译 ycm_core 库时找不到 python3 的库\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-01-21T00:00:00.000Z\\",\\"dateModified\\":\\"2024-06-10T13:36:49.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Leo01234\\",\\"url\\":\\"https://leo01234.github.io\\",\\"email\\":\\"ijkhly@126.com\\"}]}"]]},"headers":[],"git":{"createdTime":1718026609000,"updatedTime":1718026609000,"contributors":[{"name":"Leo01234","email":"40910694+Leo01234@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":0.89,"words":266},"filePathRelative":"post/ycm-can-not-find-python3-libs.md","localizedDate":"2020年1月21日","excerpt":"<p>在按照 <a href=\\"https://github.com/ycm-core/YouCompleteMe#full-installation-guide\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Full Installation Guide</a> 安装 YouCompleteMe 时，输入命令</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes github-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#6F42C1;--shiki-dark:#61AFEF\\">cmake</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#D19A66\\"> -G</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> \\"Unix Makefiles\\"</span><span style=\\"--shiki-light:#005CC5;--shiki-dark:#D19A66\\"> -DUSE_SYSTEM_LIBCLANG=ON</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> .</span><span style=\\"--shiki-light:#032F62;--shiki-dark:#98C379\\"> ~/.vim/pack/YouCompleteMe/start/YouCompleteMe/third_party/ycmd/cpp</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{o as comp,c as data};
